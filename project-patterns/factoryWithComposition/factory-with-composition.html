<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <title>Page Title</title>
    <meta name='viewport' content='width=device-width, initial-scale=1'>
    <link rel='stylesheet' type='text/css' media='screen' href='main.css'> 
    <script>

    let speaker = function(state){

        let words = state.words || "witam";

        function sing(){
            console.log(state.name + " spiewa")
        }

        return{
            sing: sing,
            speak : function (){
                console.log(state.name + " mowi " + words);
            }

        }
    }

    let walker = function(state){
        return{
            walk: function(){
                console.log(state.name + " idzie");
            },
            run: function(isFast){
                let txt = (isFast ? " szybko": " ")+ " biegnie";
                console.log(state.name + txt);
            }
        }
    }

    let person = function(name, age, city){
        let state ={
            name : name,
            age : age,
            city : city,
            words : "Cześć"
        };

        return Object.assign(
            state,
            speaker(state),
            walker(state),
            eater(state)
        );
    }

    let eater = function(state){
        return{
            eat: function(){
                console.log(state.name + " je jedzenie");
            }

        }
    }

    let p = person("Ania", 27, "Wawa");
    console.log(p);
    p.speak();
    p.run(true);
    p.walk();
    p.eat();

    </script>
</head>
<body>
    
</body>
</html>

